<style>
    /* Animación brillo para el texto del logo */
    @keyframes shine {
        0% {
            background-position: -200%;
        }

        100% {
            background-position: 200%;
        }
    }

    .shine-hover:hover {
        background: linear-gradient(90deg, #ffffff, #3b82f6, #8b5cf6);
        background-size: 200% 100%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shine 2s linear infinite;
    }

    /* Toggle hamburguesa usando aria-expanded */
    button[aria-expanded="true"] #bar1 {
        transform: rotate(45deg) translate(5px, 5px);
        background: #fff;
    }

    button[aria-expanded="true"] #bar2 {
        opacity: 0;
    }

    button[aria-expanded="true"] #bar3 {
        transform: rotate(-45deg) translate(5px, -5px);
        background: #fff;
    }

    /* Mejora el grosor y transición para la X */
    #bar1,
    #bar2,
    #bar3 {
        height: 3px;
        transition: transform 0.3s, opacity 0.3s, background 0.3s;
    }

    /* Efecto hover brillante para botón Iniciar Sesión */
    @keyframes buttonShine {
        0% {
            background-position: -150%;
        }

        100% {
            background-position: 150%;
        }
    }

    .login-btn {
        background: white;
        color: #ffffff;
        /* índigo oscuro */
        font-weight: 600;
        padding: 0.375rem 1rem;
        /* py-1.5 px-4 */
        border-radius: 0.375rem;
        transition: background-position 0.5s ease, color 0.3s ease, box-shadow 0.3s ease;
        background-image: linear-gradient(90deg, #3b82f6, #8b5cf6, #3b82f6);
        background-size: 200% 100%;
        background-repeat: no-repeat;
        background-position: left center;
        /* Para que el fondo blanco no se sobreponga al degradado de la animación */
        background-clip: padding-box;
    }

    .login-btn:hover {
        animation: buttonShine 2s linear infinite;
        background-position: 100% 0;
        color: white;
        box-shadow: 0 0 8px rgba(139, 92, 246, 0.7);
    }
</style>

<nav class="bg-indigo-900 bg-opacity-90 shadow-md fixed top-0 left-0 w-full z-50 backdrop-blur-sm">
    <div class="w-full px-4">
        <div class="flex items-center justify-between h-16">
            <!-- Logo + Texto con efecto hover + brillo -->
            <a href="/"
                class="flex items-center text-white font-bold text-3xl transition-transform duration-300 hover:scale-110 shine-hover">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 16 16">
                    <path
                        d="M1 2.828c.885-.37 2.154-.828 4-.828 1.82 0 3.114.444 4 .828v10.344c-.886.385-2.18.828-4 .828-1.82 0-3.115-.443-4-.828V2.828z" />
                    <path
                        d="M9 2.828c.885-.37 2.154-.828 4-.828 1.82 0 3.114.444 4 .828v10.344c-.886.385-2.18.828-4 .828-1.82 0-3.115-.443-4-.828V2.828z" />
                </svg>
                InkVerse
            </a>

            <!-- Botón toggle móvil con aria-expanded para animación -->
            <button id="menu-toggle" aria-label="Abrir menú" aria-expanded="false"
                class="md:hidden text-white focus:outline-none relative w-8 h-8 flex flex-col justify-between">
                <span id="bar1"
                    class="block h-0.5 w-full bg-current rounded transition-transform duration-300 origin-left"></span>
                <span id="bar2" class="block h-0.5 w-full bg-current rounded transition-opacity duration-300"></span>
                <span id="bar3"
                    class="block h-0.5 w-full bg-current rounded transition-transform duration-300 origin-left"></span>
            </button>

            <!-- Navegación Desktop -->
            <div class="hidden md:flex md:items-center md:space-x-8">
                <nav class="flex space-x-6 text-white font-medium">
                    <a href="/"
                        class="relative group transform transition duration-300 ease-in-out hover:scale-110 hover:shadow-lg">
                        Inicio
                        <span
                            class="absolute left-1/2 bottom-0 h-0.5 bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 transition-all duration-500 ease-in-out group-hover:left-0 group-hover:w-full group-hover:translate-x-0 w-0 -translate-x-1/2">
                        </span>
                    </a>
                    <a href="/books"
                        class="relative group transform transition duration-300 ease-in-out hover:scale-110 hover:shadow-lg">
                        Libros
                        <span
                            class="absolute left-1/2 bottom-0 h-0.5 bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 transition-all duration-500 ease-in-out group-hover:left-0 group-hover:w-full group-hover:translate-x-0 w-0 -translate-x-1/2">
                        </span>
                    </a>
                    <a href="/authors"
                        class="relative group transform transition duration-300 ease-in-out hover:scale-110 hover:shadow-lg">
                        Autores
                        <span
                            class="absolute left-1/2 bottom-0 h-0.5 bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 transition-all duration-500 ease-in-out group-hover:left-0 group-hover:w-full group-hover:translate-x-0 w-0 -translate-x-1/2">
                        </span>
                    </a>
                </nav>
                <a href="/auth/login" class="login-btn ml-6">
                    Iniciar Sesión
                </a>
            </div>
        </div>

        <!-- Menú móvil -->
        <div id="menu" class="md:hidden overflow-hidden max-h-0 opacity-0 transition-all duration-300 ease-in-out">
            <a href="/" class="block px-4 py-2 text-white hover:text-indigo-300 transition">Inicio</a>
            <a href="/books" class="block px-4 py-2 text-white hover:text-indigo-300 transition">Libros</a>
            <a href="/authors" class="block px-4 py-2 text-white hover:text-indigo-300 transition">Autores</a>
            <a href="/auth/login" class="login-btn block w-full px-4 py-2 mt-2 text-center">
                Iniciar Sesión
            </a>
            <br>
        </div>
    </div>
</nav>

<script>
    const toggleBtn = document.getElementById('menu-toggle');
    const menu = document.getElementById('menu');

    toggleBtn.addEventListener('click', () => {
        const expanded = toggleBtn.getAttribute('aria-expanded') === 'true';
        toggleBtn.setAttribute('aria-expanded', String(!expanded));

        if (!expanded) {
            menu.style.maxHeight = menu.scrollHeight + 'px';
            menu.style.opacity = '1';
        } else {
            menu.style.maxHeight = '0';
            menu.style.opacity = '0';
        }
    });

    window.addEventListener('resize', () => {
        if (window.innerWidth >= 768) {
            menu.style.maxHeight = null;
            menu.style.opacity = null;
            toggleBtn.setAttribute('aria-expanded', 'false');
        } else if (!menu.style.maxHeight || menu.style.maxHeight === '0px') {
            menu.style.opacity = '0';
        }
    });
</script>